<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>beer-game.test-util documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">beer-game.server</span> <span class="project-version">master</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>beer-game</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>components</span></div></div></li><li class="depth-3 branch"><a href="beer-game.components.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="beer-game.components.routes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></a></li><li class="depth-3 branch"><a href="beer-game.components.webserver.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>webserver</span></div></a></li><li class="depth-3"><a href="beer-game.components.websocket.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>websocket</span></div></a></li><li class="depth-2 branch"><a href="beer-game.config.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handlers</span></div></div></li><li class="depth-3 branch"><a href="beer-game.handlers.auth.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auth</span></div></a></li><li class="depth-3 branch"><a href="beer-game.handlers.auth-test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auth-test</span></div></a></li><li class="depth-3 branch"><a href="beer-game.handlers.events.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>events</span></div></a></li><li class="depth-3 branch"><a href="beer-game.handlers.events-test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>events-test</span></div></a></li><li class="depth-3 branch"><a href="beer-game.handlers.game.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>game</span></div></a></li><li class="depth-3"><a href="beer-game.handlers.system.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>system</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>logic</span></div></div></li><li class="depth-3 branch"><a href="beer-game.logic.game.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>game</span></div></a></li><li class="depth-3"><a href="beer-game.logic.game-logic-test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>game-logic-test</span></div></a></li><li class="depth-2 branch"><a href="beer-game.message-handler.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>message-handler</span></div></a></li><li class="depth-2 branch"><a href="beer-game.message-handler-test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>message-handler-test</span></div></a></li><li class="depth-2 branch"><a href="beer-game.messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>messages</span></div></a></li><li class="depth-2 branch"><a href="beer-game.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-2 branch"><a href="beer-game.server-utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server-utils</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spec</span></div></div></li><li class="depth-3 branch"><a href="beer-game.spec.event.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>event</span></div></a></li><li class="depth-3"><a href="beer-game.spec.game.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>game</span></div></a></li><li class="depth-2 branch"><a href="beer-game.store.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>store</span></div></a></li><li class="depth-2 branch"><a href="beer-game.store-test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>store-test</span></div></a></li><li class="depth-2 branch current"><a href="beer-game.test-util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>test-util</span></div></a></li><li class="depth-2 branch"><a href="beer-game.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2"><a href="beer-game.util-test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util-test</span></div></a></li><li class="depth-1"><a href="user.html"><div class="inner"><span class="tree" style="top: -920px;"><span class="top" style="height: 929px;"></span><span class="bottom"></span></span><span>user</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="beer-game.test-util.html#var-as-leader.21"><div class="inner"><span>as-leader!</span></div></a></li><li class="depth-1"><a href="beer-game.test-util.html#var-as-player.21"><div class="inner"><span>as-player!</span></div></a></li><li class="depth-1"><a href="beer-game.test-util.html#var-authentication-msg"><div class="inner"><span>authentication-msg</span></div></a></li><li class="depth-1"><a href="beer-game.test-util.html#var-filter-msgs"><div class="inner"><span>filter-msgs</span></div></a></li><li class="depth-1"><a href="beer-game.test-util.html#var-test-all-roles.21"><div class="inner"><span>test-all-roles!</span></div></a></li><li class="depth-1"><a href="beer-game.test-util.html#var-test-utility-functions"><div class="inner"><span>test-utility-functions</span></div></a></li><li class="depth-1"><a href="beer-game.test-util.html#var-with-test-event.21"><div class="inner"><span>with-test-event!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">beer-game.test-util</h1><div class="doc"><div class="markdown"><p>Contains various utilities for writing tests.</p></div></div><div class="public anchor" id="var-as-leader.21"><h3>as-leader!</h3><div class="usage"><code>(as-leader! function)</code></div><div class="doc"><div class="markdown"><p>Tests the given test <code>function</code> in the context of a game-leader. Uses the credentials stored on the server.</p></div></div><div class="src-link"><a href="https://git.rz.uni-augsburg.de/pi-m/beer_game/blob/master/test/beer_game/test_util.clj#L34">view source</a></div></div><div class="public anchor" id="var-as-player.21"><h3>as-player!</h3><div class="usage"><code>(as-player! login-data function)</code></div><div class="doc"><div class="markdown"><p>Tests the given test <code>function</code> in the context of a player using the provided <code>login-data</code>.</p></div></div><div class="src-link"><a href="https://git.rz.uni-augsburg.de/pi-m/beer_game/blob/master/test/beer_game/test_util.clj#L45">view source</a></div></div><div class="public anchor" id="var-authentication-msg"><h3>authentication-msg</h3><div class="usage"><code>(authentication-msg result)</code></div><div class="doc"><div class="markdown"><p>Takes the result from an authentication requests and filters out the one message that contains the authentication message.</p></div></div><div class="src-link"><a href="https://git.rz.uni-augsburg.de/pi-m/beer_game/blob/master/test/beer_game/test_util.clj#L25">view source</a></div></div><div class="public anchor" id="var-filter-msgs"><h3>filter-msgs</h3><div class="usage"><code>(filter-msgs result filter-fn)</code></div><div class="doc"><div class="markdown"><p>Filters the messages from the <code>result</code> of a message handler using the given <code>filter-fn</code>. The passed <code>result</code> may or may not represent multiple messages - both cases are handled.</p></div></div><div class="src-link"><a href="https://git.rz.uni-augsburg.de/pi-m/beer_game/blob/master/test/beer_game/test_util.clj#L16">view source</a></div></div><div class="public anchor" id="var-test-all-roles.21"><h3>test-all-roles!</h3><div class="usage"><code>(test-all-roles! testing-fn)</code></div><div class="doc"><div class="markdown"><p>Calls the given testing function in the context of all possible roles (leader and player).</p></div></div><div class="src-link"><a href="https://git.rz.uni-augsburg.de/pi-m/beer_game/blob/master/test/beer_game/test_util.clj#L72">view source</a></div></div><div class="public anchor" id="var-test-utility-functions"><h3>test-utility-functions</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://git.rz.uni-augsburg.de/pi-m/beer_game/blob/master/test/beer_game/test_util.clj#L84">view source</a></div></div><div class="public anchor" id="var-with-test-event.21"><h3>with-test-event!</h3><div class="usage"><code>(with-test-event! event-data function)</code><code>(with-test-event! function)</code></div><div class="doc"><div class="markdown"><p>Applies the given test function in the context of an event (creates it in the store). If no <code>event-data</code> is given, generates some using the specs in <a href="beer-game.spec.game.html">beer-game.spec.game</a>.</p></div></div><div class="src-link"><a href="https://git.rz.uni-augsburg.de/pi-m/beer_game/blob/master/test/beer_game/test_util.clj#L57">view source</a></div></div></div></body></html>